From b63da46dd5e01e4b68693ab06c20f23336415f14 Mon Sep 17 00:00:00 2001
From: Jaehwang Jung <tomtomjhj@gmail.com>
Date: Tue, 1 Nov 2022 02:42:01 +0900
Subject: [PATCH 1/2] exists('&t_Co') is 0 in nvim 0.8

nvim bug.

fixed in nvim 30f606fc602f835fbed869140d3d658e24129c22
---
 autoload/colortemplate.vim | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/autoload/colortemplate.vim b/autoload/colortemplate.vim
index a65f89d..61a4cac 100644
--- a/autoload/colortemplate.vim
+++ b/autoload/colortemplate.vim
@@ -2362,7 +2362,7 @@ fun! s:print_header(bufnr)
   endif
   call s:put(a:bufnr,   ''                                                                         )
   if s:supports_neovim() || s:getopt('backward_compatible')
-    call s:put(a:bufnr,   "let s:t_Co = exists('&t_Co') && !has('gui_running') ? +&t_Co : -1"      )
+    call s:put(a:bufnr,   "let s:t_Co = has('nvim') || (exists('&t_Co') && !has('gui_running')) ? +&t_Co : -1"      )
   else
     call s:put(a:bufnr,   "let s:t_Co = exists('&t_Co') && !has('gui_running') ? (&t_Co ?? 0) : -1")
   endif
-- 
2.36.0

